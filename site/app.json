[{"name": "app.py", "content": "from shiny import App, render, ui\n\napp_ui = ui.page_fluid(\n  {\"style\": \"background-color: rgba(0, 128, 255, 0.1)\"},\n    ui.input_switch(\"hepUsed\", \"Heparin Used?\"),\n    ui.input_slider(\"exTestCT\", \"Ex-Test CT\", 0, 150, 1),\n    ui.input_slider(\"inTestCT\", \"In-Test CT\", 0, 400, 1),\n    ui.input_slider(\"exTestA10\", \"Ex-Test A10\", 0, 60, 1),\n    ui.input_slider(\"fibTestA10\", \"Fib-Test A10\", 0, 40, 1),\n    \n    ui.row(\n        ui.column(10, ui.output_ui(\"hepCTSlider\")),\n    ),\n \n    ui.row(\n        ui.column(10, ui.output_text(\"result\")),\n    ),\n    ui.row(\n        ui.column(10, ui.output_text(\"platelets\")),\n    ),\n    ui.row(\n        ui.column(10, ui.output_text(\"fibrinogen\")),\n    ),\n    ui.row(\n        ui.column(10, ui.output_text(\"clottingFactors\")),\n    ),\n  \n    \n\n)\n\n\ndef server(input, output, session):\n    @output\n    @render.ui\n    def hepCTSlider():\n      if input.hepUsed():\n        return ui.TagList(\n            ui.input_slider(\"hiTestCT\", \"Hi-Test CT\", 0, 400, 1),\n        )\n      \n    \n    @output\n    @render.text\n    def result():\n        if input.hepUsed():\n          if input.inTestCT() >= (228) and input.hiTestCT() <= (211.0):\n            hep = \"Likely Residual Heparin Effect\"\n          else:\n            hep = \"No Residual Heparin Effect\"\n          return hep\n      \n    @output\n    @render.text\n    def platelets():\n        if input.exTestA10() <22:\n          plt = \"Platelets Very Low\"\n        elif input.exTestA10() < 39:\n          plt = \"Platelets Low\"\n        else:\n          plt = \"Platelets OK\"\n        return plt\n      \n    @output\n    @render.text\n    def fibrinogen():\n        if input.fibTestA10() <5:\n          fib = \"Fibronogen Very Low\"\n        elif input.fibTestA10() <8:\n          fib = \"Fibrinogen Low\"\n        else:\n          fib = \"Fibrinogen OK\"\n        return fib\n      \n    @output\n    @render.text\n    def clottingFactors():\n        if input.inTestCT() > 300 or input.exTestCT() > 100:\n          cf = \"Clotting Factors Very Low\"\n        elif input.inTestCT() > 240 or input.exTestCT() > 80:\n          cf = \"Clotting Factors Low\"\n        else:\n          cf = \"Clotting Factors OK\"\n        return cf\n        \n\napp = App(app_ui, server)\n", "type": "text"}]